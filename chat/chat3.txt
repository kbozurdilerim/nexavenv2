Doƒürudan ilerliyorum.
A≈üaƒüƒ±da **‚ÄúBƒ∞R SONRAKƒ∞ ADIM‚Äù** olarak s√∂z verdiƒüim katman **tek seferde**, **eksiksiz**, **yalnƒ±zca dosya adƒ± + kod i√ßeriƒüi** ≈üeklinde yer alƒ±yor.

Bu adƒ±m ≈üunlarƒ± kapsar:

* ‚úÖ **Admin Panel (Frontend)**
* ‚úÖ **Ger√ßek Lisans Doƒürulama API**
* ‚úÖ **Assetto Corsa / Client uyumlu license-check endpoint**
* ‚úÖ **JWT korumalƒ± admin i≈ülemleri**
* ‚úÖ **Frontend ‚Üî Backend tam entegrasyon**

Mevcut yapƒ±nƒ±n **√ºst√ºne eklenir**, hi√ßbir ≈üey kƒ±rmaz.

---

## =========================

## üîê BACKEND ‚Äì Lƒ∞SANS DOƒûRULAMA

## =========================

### üìÅ `backend/src/routes/licenseCheck.js`

```js
const express = require("express");
const db = require("../db/sqlite");

const router = express.Router();

/**
 * Client / Game Server doƒürulamasƒ±
 * POST /api/license/check
 * body: { license_key }
 */
router.post("/check", (req, res) => {
  const { license_key } = req.body;

  db.get(
    "SELECT * FROM licenses WHERE license_key = ? AND status = 'active'",
    [license_key],
    (err, row) => {
      if (!row) {
        return res.json({
          valid: false,
          message: "Lisans ge√ßersiz"
        });
      }

      res.json({
        valid: true,
        owner: row.owner,
        message: "Lisans ge√ßerli"
      });
    }
  );
});

module.exports = router;
```

---

### üìÅ `backend/src/server.js`

**(EKLEME ‚Äì mevcut dosyaya)**

```js
const licenseCheckRoutes = require("./routes/licenseCheck");

app.use("/api/license", licenseCheckRoutes);
```

> üîπ Not: `/api/license` altƒ±nda hem **admin CRUD** hem **client doƒürulama** artƒ±k mevcut.

---

## =========================

## üé® FRONTEND ‚Äì ADMIN PANEL

## =========================

### üìÅ `frontend/src/pages/Admin.jsx`

```jsx
import { useEffect, useState } from "react";

export default function Admin() {
  const [licenses, setLicenses] = useState([]);
  const [key, setKey] = useState("");
  const [owner, setOwner] = useState("");

  const token = localStorage.getItem("token");

  useEffect(() => {
    fetch("/api/license", {
      headers: { Authorization: token }
    })
      .then(res => res.json())
      .then(setLicenses);
  }, []);

  const addLicense = () => {
    fetch("/api/license", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: token
      },
      body: JSON.stringify({
        license_key: key,
        owner
      })
    }).then(() => location.reload());
  };

  return (
    <div style={{ padding: 40 }}>
      <h2>Admin Panel</h2>

      <input
        placeholder="Lisans Anahtarƒ±"
        onChange={e => setKey(e.target.value)}
      />
      <input
        placeholder="Sahip"
        onChange={e => setOwner(e.target.value)}
      />
      <button onClick={addLicense}>Ekle</button>

      <ul>
        {licenses.map(l => (
          <li key={l.id}>
            {l.license_key} ‚Äî {l.owner} ({l.status})
          </li>
        ))}
      </ul>
    </div>
  );
}
```

---

### üìÅ `frontend/src/pages/Login.jsx`

```jsx
import { useState } from "react";

export default function Login() {
  const [username, setU] = useState("");
  const [password, setP] = useState("");

  const login = () => {
    fetch("/api/auth/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ username, password })
    })
      .then(r => r.json())
      .then(d => {
        localStorage.setItem("token", d.token);
        location.href = "/admin";
      });
  };

  return (
    <div style={{ padding: 40 }}>
      <h2>Giri≈ü</h2>
      <input placeholder="Kullanƒ±cƒ±" onChange={e => setU(e.target.value)} />
      <input
        placeholder="≈ûifre"
        type="password"
        onChange={e => setP(e.target.value)}
      />
      <button onClick={login}>Giri≈ü</button>
    </div>
  );
}
```

---

### üìÅ `frontend/src/App.jsx`

**(G√úNCEL)**

```jsx
import Admin from "./pages/Admin";
import Login from "./pages/Login";

export default function App() {
  const path = window.location.pathname;

  if (path === "/admin") return <Admin />;
  if (path === "/login") return <Login />;

  return (
    <div style={{ padding: 40 }}>
      <h1>NEXAVEN</h1>
      <p>Assetto Corsa & Lisans Y√∂netim Platformu</p>
      <a href="/login">Admin Giri≈ü</a>
    </div>
  );
}
```

---

## =========================

## üéÆ CLIENT / ASSETTO CORSA √ñRNEƒûƒ∞

## =========================

### üìÑ Lisans Doƒürulama Mantƒ±ƒüƒ± (Pseudo)

```http
POST https://nexaven.com.tr/api/license/check
Content-Type: application/json

{
  "license_key": "NXV-AC-2026-XXXX"
}
```

### üîÅ Response

```json
{
  "valid": true,
  "owner": "Flamingo Game Arena",
  "message": "Lisans ge√ßerli"
}
```

Bu endpoint:

* Assetto Corsa server
* Launcher
* C# GUI
* WPF / WinForms
* PHP / Python client

ile **doƒürudan uyumludur**.

---

## üîÆ SONRAKƒ∞ SEVƒ∞YE (Bƒ∞R √úST KATMAN)

Hazƒ±r olduƒüunda sƒ±radaki adƒ±mlar:

1. üîí **Donanƒ±m ID / IP bind**
2. ‚è≥ **S√ºreli lisans**
3. üìä **Admin dashboard (grafikler)**
4. üé® **Premium dark UI**
5. üß† **Anti-copy / token obfuscation**
6. ‚öôÔ∏è **Assetto Corsa auto-config push**

Bu noktadan sonra Nexaven artƒ±k:

> **Bir web sitesi deƒüil, bir platformdur.**

Hangi katmana ge√ßiyoruz, s√∂yle.
Direkt kodla devam ederim.
